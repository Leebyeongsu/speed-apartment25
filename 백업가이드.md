# Speed 아파트 통신 환경 개선 신청서 - 완전 백업 가이드

## 📅 작성일: 2025-09-28

---

## 🗂️ 현재 프로젝트 구조

```
speed-apartment-이은화/
├── 📄 index.html              # 메인 웹 애플리케이션 (24KB)
├── 📄 script.js               # 핵심 JavaScript 로직 (78KB)
├── 📄 style.css               # 반응형 CSS 스타일
├── 📄 supabase-config.js      # Supabase 클라이언트 설정
├── 📄 CLAUDE.md               # 프로젝트 문서화
├── 📄 수정내역.md             # 수정 기록 (방금 생성)
├── 📄 백업가이드.md           # 이 파일
├── 🖼️ apartment_ehwa.jpg      # 아파트 이미지 (222KB)
├── 🖼️ promotion-flyer.jpg     # 프로모션 전단 이미지 (195KB)
├── 🖼️ char.jpg                # 캐릭터 이미지 (195KB)
├── 📄 apartment_name_수정.md  # 아파트명 수정 기록
├── 📄 이미지추가.md           # 이미지 추가 기록
└── 📄 다중_이미지추가.md      # 다중 이미지 추가 기록
```

---

## 💾 백업 방법들

### 1. Git 저장소 백업 (가장 중요!)

#### 현재 Git 상태 확인
```bash
cd "C:\Users\user\claude_code\스피드_영업자_생성\speed-apartment-이은화"
git status
git log --oneline -5
```

#### Git 저장소 완전 복제
```bash
# 다른 위치에 백업 클론 생성
git clone https://github.com/Leebyeongsu/speed-apartment5.git "C:\Backup\speed-apartment-backup-$(Get-Date -Format 'yyyyMMdd-HHmm')"

# 또는 bare 저장소로 백업 (더 안전)
git clone --bare https://github.com/Leebyeongsu/speed-apartment5.git "C:\Backup\speed-apartment-bare-backup.git"
```

#### GitHub 추가 저장소 생성
```bash
# 새로운 GitHub 저장소에 미러 백업
git remote add backup https://github.com/Leebyeongsu/speed-apartment5-backup.git
git push backup --all
git push backup --tags
```

### 2. 로컬 파일 시스템 백업

#### 폴더 전체 복사 (Windows)
```powershell
# PowerShell에서 실행
$source = "C:\Users\user\claude_code\스피드_영업자_생성\speed-apartment-이은화"
$destination = "C:\Backup\speed-apartment-complete-backup-$(Get-Date -Format 'yyyyMMdd-HHmm')"
Copy-Item -Path $source -Destination $destination -Recurse -Force
```

#### 압축 백업 생성
```powershell
# PowerShell에서 ZIP 파일 생성
$source = "C:\Users\user\claude_code\스피드_영업자_생성\speed-apartment-이은화"
$destination = "C:\Backup\speed-apartment-backup-$(Get-Date -Format 'yyyyMMdd-HHmm').zip"
Compress-Archive -Path $source -DestinationPath $destination -Force
```

### 3. 클라우드 백업

#### Google Drive / OneDrive
1. 프로젝트 폴더를 클라우드 드라이브에 업로드
2. 버전 관리 기능 활용
3. 정기적 동기화 설정

#### Dropbox
```bash
# Dropbox CLI 사용 (설치된 경우)
dropbox upload "C:\Users\user\claude_code\스피드_영업자_생성\speed-apartment-이은화" "/Backup/speed-apartment-$(date +%Y%m%d)"
```

---

## 🛢️ 데이터베이스 백업 (Supabase)

### Supabase 데이터 내보내기

#### SQL 백업 스크립트
```sql
-- 관리자 설정 테이블 백업
SELECT * FROM admin_settings WHERE apartment_id = 'speed_apartment5';

-- 신청서 테이블 백업 (필요시)
SELECT * FROM applications;

-- 알림 로그 테이블 백업 (필요시)
SELECT * FROM notification_logs;
```

#### 환경 변수 백업
```bash
# .env 파일 생성 (실제 키는 보안 유지)
echo "SUPABASE_URL=https://boorsqnfkwglzvnhtwcx.supabase.co" > .env.backup
echo "SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." >> .env.backup
echo "EMAILJS_USER_ID=8-CeAZsTwQwNl4yE2" >> .env.backup
echo "APARTMENT_ID=speed_apartment5" >> .env.backup
```

---

## 🚀 GitHub Pages 배포 백업

### 현재 배포 상태 확인
- **배포 URL**: https://leebyeongsu.github.io/speed-apartment5/
- **브랜치**: master
- **상태**: 활성화됨

### 배포 설정 백업
```yaml
# .github/workflows/backup.yml (예시)
name: Auto Backup
on:
  push:
    branches: [ master ]
jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Create backup
      run: |
        tar -czf backup-$(date +%Y%m%d).tar.gz .
        # 백업 파일을 다른 저장소로 업로드
```

---

## 📋 백업 체크리스트

### ✅ 즉시 백업해야 할 항목

- [x] **Git 저장소 전체** (커밋 히스토리 포함)
- [x] **소스 코드 파일들**
  - [x] index.html
  - [x] script.js
  - [x] style.css
  - [x] supabase-config.js
- [x] **이미지 파일들**
  - [x] apartment_ehwa.jpg
  - [x] promotion-flyer.jpg
  - [x] char.jpg
- [x] **문서 파일들**
  - [x] CLAUDE.md
  - [x] 수정내역.md
  - [x] 백업가이드.md
- [x] **Supabase 설정**
  - [x] 데이터베이스 스키마
  - [x] 환경 변수
  - [x] API 키 정보

### ⚠️ 보안 주의사항

- **절대 포함하면 안 되는 것들**:
  - Supabase 비밀 키 (public key만 포함)
  - EmailJS 비밀 키
  - 개인정보 데이터

---

## 🔄 정기 백업 자동화

### PowerShell 스크립트 (Windows)
```powershell
# backup-script.ps1
$projectPath = "C:\Users\user\claude_code\스피드_영업자_생성\speed-apartment-이은화"
$backupPath = "C:\Backup"
$timestamp = Get-Date -Format "yyyyMMdd-HHmm"

# Git 백업
Set-Location $projectPath
git add .
git commit -m "Auto backup - $timestamp"
git push origin master

# 파일 백업
$destination = "$backupPath\speed-apartment-$timestamp"
Copy-Item -Path $projectPath -Destination $destination -Recurse -Force

# 압축 백업
Compress-Archive -Path $destination -DestinationPath "$destination.zip" -Force
Remove-Item -Path $destination -Recurse -Force

Write-Host "백업 완료: $destination.zip"
```

### Windows 작업 스케줄러 설정
1. `작업 스케줄러` 실행
2. `기본 작업 만들기` 선택
3. 매일 또는 매주 실행 설정
4. PowerShell 스크립트 경로 지정

---

## 🆘 재해 복구 절차

### 프로젝트 완전 복구 방법

#### 1. Git에서 복구
```bash
# 새 위치에 클론
git clone https://github.com/Leebyeongsu/speed-apartment5.git restored-project
cd restored-project

# 특정 커밋으로 복구 (필요시)
git checkout 779ceca  # 최신 안정 버전
```

#### 2. 백업 파일에서 복구
```powershell
# ZIP 백업 해제
Expand-Archive -Path "C:\Backup\speed-apartment-backup-20250928-1400.zip" -DestinationPath "C:\Restored\speed-apartment"
```

#### 3. Supabase 재설정
```javascript
// supabase-config.js에서 연결 테스트
testSupabaseConnection();
```

#### 4. GitHub Pages 재배포
```bash
# 복구된 프로젝트에서
git remote add origin https://github.com/Leebyeongsu/speed-apartment5.git
git push origin master
```

---

## 📞 긴급 상황 대응

### 백업 우선순위
1. **최우선**: Git 저장소 (커밋 히스토리 포함)
2. **중요**: 소스 코드 파일들
3. **필요**: 이미지 및 문서 파일들
4. **추가**: 설정 및 환경 변수

### 복구 테스트
- [ ] 로컬에서 웹사이트 실행 확인
- [ ] 관리자 모드 기능 테스트
- [ ] 고객 모드 기능 테스트
- [ ] Supabase 연결 확인
- [ ] GitHub Pages 배포 확인

---

## 📊 백업 모니터링

### 백업 상태 확인 명령어
```bash
# Git 상태 확인
git status
git log --oneline -5

# 파일 크기 확인
du -sh *

# 백업 폴더 확인
ls -la "C:\Backup"
```

---

**🎯 핵심 요약**: 가장 중요한 것은 **Git 저장소 백업**입니다. GitHub에 푸시된 상태이므로 최소한의 안전장치는 확보된 상태이며, 추가로 로컬 백업과 다른 클라우드 서비스에도 백업하면 완벽합니다!

---

*이 백업 가이드를 따라하면 프로젝트를 100% 안전하게 보호할 수 있습니다.*